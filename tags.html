---
layout: page
title: 'Tag Index'
---

{% assign date_format = site.date_format | default: "%B %-d, %Y" %}

{% assign all_items = site.posts | concat: site.poetry %}

{%- capture site_tags -%}
  {%- assign tag_map = "" | split: "" -%}
  {%- for item in all_items -%}
    {%- for tag in item.tags -%}
      {%- assign tag_map = tag_map | push: tag -%}
    {%- endfor -%}
  {%- endfor -%}
  {%- assign tags_list = tag_map | uniq | sort -%}
{%- endcapture -%}

{%- for tag in tags_list -%}
  <a href="#{{- tag -}}" class="btn btn-primary tag-btn">
    <i class="fas fa-tag" aria-hidden="true"></i>&nbsp;{{- tag -}}&nbsp;
    ({{ all_items | where_exp: "item", "item.tags contains tag" | size }})
  </a>
{%- endfor -%}

<div id="full-tags-list">
  {%- for tag in tags_list -%}
    <h2 id="{{- tag -}}" class="linked-section">
      <i class="fas fa-tag" aria-hidden="true"></i>
      &nbsp;{{- tag -}}&nbsp;
      ({{ all_items | where_exp: "item", "item.tags contains tag" | size }})
    </h2>
    <div class="post-list">
      {%- for item in all_items -%}
        {%- if item.tags contains tag -%}
          <div class="tag-entry">
            <a href="{{ item.url | relative_url }}">{{- item.title | strip_html -}}</a>
            
            {%- if item.layout == "poem" -%}
              <span class="badge-poem">Poem</span>
            {%- endif -%}

            
            <div class="entry-date">
              <time datetime="{{- item.date | date_to_xmlschema -}}">
                {{- item.date | date: date_format -}}
              </time>
            </div>
          </div>
        {%- endif -%}
      {%- endfor -%}
    </div>
  {%- endfor -%}
</div>
